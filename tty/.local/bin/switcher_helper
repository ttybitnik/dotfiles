#!/usr/bin/env bash

# Helper for booting into dark or light mode based on current time.
#   Dependencies:
#     ~/.local/bin/switcher
#   Required by:
#     ~/.config/systemd/user/switcher.service

readonly STATE_FILE="$CUSTOM_SWITCHER"

current_hour=$(date "+%k")

if ((current_hour >= 6 && current_hour < 17)); then
    printf "dark" >"$STATE_FILE"
    # OPT(switcher): nr=no-reload
    "${HOME}"/.local/bin/switcher -s
else
    printf "light" >"$STATE_FILE"
    # OPT(switcher): nr=no-reload
    "${HOME}"/.local/bin/switcher -s
fi
