#!/usr/bin/env bash

# Standard for logging commands (ISO 8601 and POSIX).

timestamp=$(date +%Y%m%dT%H%M%S)
nodename=$(uname -n)
logfile="${HOME}/.orpheus/ttylogs/${nodename}_${timestamp}_$1.log"

{ printf ">> %s\n" "$*"; time -p "$@"; } 2>&1 \
    | tee "$logfile" && chmod 400 "$logfile"
